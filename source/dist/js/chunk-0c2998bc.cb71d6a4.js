(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c2998bc"],{"24c7":function(t,e,r){"use strict";r("c213")},ab0a:function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("board-index",{attrs:{category:t.category}})},a=[],s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-sheet",[r("v-container",{staticClass:"px-lg-0 py-md-7 py-sm-4  pa-xs-4",attrs:{"max-width":"980px"}},[t.items.length?r("v-card",{class:t.listBg(),attrs:{outlined:"",tile:t.$vuetify.breakpoint.xs}},[r("v-toolbar",{attrs:{color:"transparent",flat:""}},[r("v-toolbar-title",{staticClass:"text-h5 font-weight-bold",attrs:{color:"primary"}},[t._v("게시판 목록")]),r("v-spacer")],1),r("v-card-text",[r("v-row",[t.user&&0===t.user.level?r("v-col",{attrs:{cols:"12"}},[r("v-card",{attrs:{height:"100%",color:"base"}},[r("v-subheader",[t._v(" 새로운 게시판 추가 ")]),r("v-divider"),r("v-card-text",[r("v-text-field",{attrs:{label:"게시판 아이디",placeholder:"게시판 링크에 사용될 게시판 아이디를 입력하세요",outlined:""},model:{value:t.boardId,callback:function(e){t.boardId=e},expression:"boardId"}})],1),t.boardId?r("v-card-actions",[r("v-btn",{attrs:{to:t.$route.path+"/"+t.boardId,"x-large":"",color:"primary",text:"",block:""}},[r("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v(" 추가 ")],1)],1):t._e()],1)],1):t._e(),t._l(t.items,(function(e){return r("v-col",{key:e.id,attrs:{cols:"12"}},[r("v-card",{attrs:{height:"100%",color:"base"}},[r("v-subheader",[t.newCheck(e.updatedAt)?r("v-chip",{staticClass:"mr-2",attrs:{color:"success",small:"",label:"",left:""}},[t._v("new")]):t._e(),t._v(" "+t._s(e.title)+" "),r("v-spacer"),t.user&&0===t.user.level?[r("v-btn",{attrs:{icon:"",to:t.$route.path+"/"+e.id+"?&action=write"}},[r("v-icon",[t._v("mdi-pencil")])],1),r("v-btn",{attrs:{icon:""},on:{click:function(r){return t.remove(e)}}},[r("v-icon",[t._v("mdi-delete")])],1)]:t._e()],2),r("v-divider"),r("v-card-text",[r("v-alert",{staticClass:"white-space",attrs:{border:"left",type:"info",outlined:"",color:t.$vuetify.theme.dark?"primary":"success"}},[t._v(t._s(e.description))])],1),r("v-list-item",[r("v-list-item-content",[r("v-list-item-title",[t._v(" 게시물수 ")]),r("v-list-item-subtitle",{staticClass:"font-italic"},[t._v(" "+t._s(e.count)+" ")])],1)],1),r("v-divider"),r("v-list-item",{attrs:{to:t.$route.path+"/"+e.id}},[r("v-list-item-content",[t._v(" 전체 ")]),r("v-list-item-action",[r("v-btn",{attrs:{icon:""}},[r("v-icon",[t._v("mdi-menu-right")])],1)],1)],1),r("v-divider"),t._l(e.categories,(function(i,a){return[r("v-list-item",{key:i,attrs:{to:t.$route.path+"/"+e.id+"?category="+i}},[r("v-list-item-content",[t._v(" "+t._s(i)+" ")]),r("v-list-item-action",[r("v-btn",{attrs:{icon:""}},[r("v-icon",[t._v("mdi-menu-right")])],1)],1)],1),r("v-divider",{key:a})]}))],2)],1)})),t.lastDoc?r("v-col",{attrs:{cols:"12",sm:"6",md:"4",lg:"3",xl:"2"}},[r("v-container",{attrs:{fluid:"","fill-height":""}},[r("v-btn",{directives:[{name:"intersect",rawName:"v-intersect",value:t.onIntersect,expression:"onIntersect"}],attrs:{text:"",color:"primary",block:"",loading:t.loading},on:{click:t.more}},[r("v-icon",[t._v("mdi-dots-horizontal")]),t._v("더보기 ")],1)],1)],1):t._e()],2)],1)],1):r("v-skeleton-loader",{attrs:{type:"card"}})],1)],1)},n=[],o=(r("a4d3"),r("e01a"),r("7db0"),r("c740"),r("4160"),r("a434"),r("a9e3"),r("159b"),r("96cf"),r("1da1")),c=r("2ef0"),l=r("9817"),d=5,u={data:function(){return{unsubscribe:null,items:[],ref:null,lastDoc:null,order:"createdAt",sort:"desc",boardId:"",loading:!1,newCheck:l["a"],BgColor:"#FEFCF5 !important"}},computed:{user:function(){return this.$store.state.user}},created:function(){this.subscribe()},destroyed:function(){this.unsubscribe&&this.unsubscribe()},methods:{snapshotToItems:function(t){var e=this;this.lastDoc=Object(c["last"])(t.docs),t.docs.forEach((function(t){var r=e.items.find((function(e){return t.id===e.id})),i=t.data();r?(r.category=i.category,r.title=i.title,r.count=i.count,r.description=i.description,r.categories=i.categories,r.tags=i.tags,r.updatedAt=i.updatedAt.toDate()):(i.id=t.id,i.createdAt=i.createdAt.toDate(),i.updatedAt=i.updatedAt.toDate(),e.items.push(i))})),this.items.sort((function(t,e){return Number(e.createdAt.getTime())-Number(t.createdAt.getTime())}))},subscribe:function(){var t=this;this.ref=this.$firebase.firestore().collection("boards").orderBy(this.order,this.sort).limit(d),this.unsubscribe=this.ref.onSnapshot((function(e){e.empty?t.items=[]:t.snapshotToItems(e)}))},more:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.lastDoc){e.next=2;break}throw Error("더이상 데이터가 없습니다");case 2:if(!t.loading){e.next=4;break}return e.abrupt("return");case 4:return t.loading=!0,e.prev=5,e.next=8,t.ref.startAfter(t.lastDoc).get();case 8:r=e.sent,t.snapshotToItems(r);case 10:return e.prev=10,t.loading=!1,e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[5,,10,13]])})))()},onIntersect:function(t,e,r){r&&this.more()},remove:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.$firebase.firestore().collection("boards").doc(t.id).delete();case 2:i=e.items.findIndex((function(e){return e.id===t.id})),e.items.splice(i,1);case 4:case"end":return r.stop()}}),r)})))()},listBg:function(){return this.$vuetify.theme.dark?"listBgDark":"listBgLight"}}},v=u,m=(r("24c7"),r("2877")),b=r("6544"),f=r.n(b),h=r("0798"),p=r("8336"),g=r("b0af"),_=r("99d9"),x=r("cc20"),y=r("62ad"),k=r("a523"),w=r("ce7e"),V=r("132d"),I=r("da13"),C=r("1800"),A=r("5d23"),$=r("0fd9"),T=r("8dd9"),D=r("3129"),B=r("2fa4"),L=r("e0c7"),S=r("8654"),j=r("71d9"),E=r("2a7f"),O=r("269a"),R=r.n(O),F=r("90a2"),N=Object(m["a"])(v,s,n,!1,null,"b2f65096",null),J=N.exports;f()(N,{VAlert:h["a"],VBtn:p["a"],VCard:g["a"],VCardActions:_["a"],VCardText:_["c"],VChip:x["a"],VCol:y["a"],VContainer:k["a"],VDivider:w["a"],VIcon:V["a"],VListItem:I["a"],VListItemAction:C["a"],VListItemContent:A["a"],VListItemSubtitle:A["b"],VListItemTitle:A["c"],VRow:$["a"],VSheet:T["a"],VSkeletonLoader:D["a"],VSpacer:B["a"],VSubheader:L["a"],VTextField:S["a"],VToolbar:j["a"],VToolbarTitle:E["a"]}),R()(N,{Intersect:F["a"]});var q={components:{boardIndex:J},computed:{category:function(){return this.$route.query.category}}},z=q,G=Object(m["a"])(z,i,a,!1,null,null,null);e["default"]=G.exports},c213:function(t,e,r){}}]);
//# sourceMappingURL=chunk-0c2998bc.cb71d6a4.js.map