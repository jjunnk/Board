(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-95c0b86a"],{"0798":function(t,e,r){"use strict";r("caad");var i=r("5530"),o=r("ade3"),s=(r("0c18"),r("10d2")),n=r("afdd"),a=r("9d26"),c=r("f2e7"),l=r("7560"),d=r("2b0e"),u=d["a"].extend({name:"transitionable",props:{mode:String,origin:String,transition:String}}),h=r("58df"),v=r("d9bd");e["a"]=Object(h["a"])(s["a"],c["a"],u).extend({name:"v-alert",props:{border:{type:String,validator:function(t){return["top","right","bottom","left"].includes(t)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator:function(t){return"string"===typeof t||!1===t}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator:function(t){return["info","error","success","warning"].includes(t)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder:function(){if(!this.border)return null;var t={staticClass:"v-alert__border",class:Object(o["a"])({},"v-alert__border--".concat(this.border),!0)};return this.coloredBorder&&(t=this.setBackgroundColor(this.computedColor,t),t.class["v-alert__border--has-color"]=!0),this.$createElement("div",t)},__cachedDismissible:function(){var t=this;if(!this.dismissible)return null;var e=this.iconColor;return this.$createElement(n["a"],{staticClass:"v-alert__dismissible",props:{color:e,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(){return t.isActive=!1}}},[this.$createElement(a["a"],{props:{color:e}},this.closeIcon)])},__cachedIcon:function(){return this.computedIcon?this.$createElement(a["a"],{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes:function(){var t=Object(i["a"])(Object(i["a"])({},s["a"].options.computed.classes.call(this)),{},{"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text});return this.border&&(t["v-alert--border-".concat(this.border)]=!0),t},computedColor:function(){return this.color||this.type},computedIcon:function(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&"$".concat(this.type))},hasColoredIcon:function(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText:function(){return this.text||this.outlined},iconColor:function(){return this.hasColoredIcon?this.computedColor:void 0},isDark:function(){return!(!this.type||this.coloredBorder||this.outlined)||l["a"].options.computed.isDark.call(this)}},created:function(){this.$attrs.hasOwnProperty("outline")&&Object(v["a"])("outline","outlined",this)},methods:{genWrapper:function(){var t=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],e={staticClass:"v-alert__wrapper"};return this.$createElement("div",e,t)},genContent:function(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert:function(){var t={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){var e=this.hasText?this.setTextColor:this.setBackgroundColor;t=e(this.computedColor,t)}return this.$createElement("div",t,[this.genWrapper()])},toggle:function(){this.isActive=!this.isActive}},render:function(t){var e=this.genAlert();return this.transition?t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[e]):e}})},"0c18":function(t,e,r){},"24c7":function(t,e,r){"use strict";r("c213")},9817:function(t,e,r){"use strict";var i=r("c1df"),o=r.n(i);e["a"]=function(t){var e=o()(t),r=o()(),i=r.diff(e,"hours");return i<12}},ab0a:function(t,e,r){"use strict";r.r(e);var i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("board-index",{attrs:{category:t.category}})},o=[],s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-sheet",[r("v-container",{staticClass:"px-lg-0 py-md-7 py-sm-4  pa-xs-4",attrs:{"max-width":"980px"}},[t.items.length?r("v-card",{class:t.listBg(),attrs:{outlined:"",tile:t.$vuetify.breakpoint.xs}},[r("v-toolbar",{attrs:{color:"transparent",flat:""}},[r("v-toolbar-title",{staticClass:"text-h5 font-weight-bold",attrs:{color:"primary"}},[t._v("게시판 목록")]),r("v-spacer")],1),r("v-card-text",[r("v-row",[t.user&&0===t.user.level?r("v-col",{attrs:{cols:"12"}},[r("v-card",{attrs:{height:"100%",color:"base"}},[r("v-subheader",[t._v(" 새로운 게시판 추가 ")]),r("v-divider"),r("v-card-text",[r("v-text-field",{attrs:{label:"게시판 아이디",placeholder:"게시판 링크에 사용될 게시판 아이디를 입력하세요",outlined:""},model:{value:t.boardId,callback:function(e){t.boardId=e},expression:"boardId"}})],1),t.boardId?r("v-card-actions",[r("v-btn",{attrs:{to:t.$route.path+"/"+t.boardId,"x-large":"",color:"primary",text:"",block:""}},[r("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v(" 추가 ")],1)],1):t._e()],1)],1):t._e(),t._l(t.items,(function(e){return r("v-col",{key:e.id,attrs:{cols:"12"}},[r("v-card",{attrs:{height:"100%",color:"base"}},[r("v-subheader",[t.newCheck(e.updatedAt)?r("v-chip",{staticClass:"mr-2",attrs:{color:"success",small:"",label:"",left:""}},[t._v("new")]):t._e(),t._v(" "+t._s(e.title)+" "),r("v-spacer"),t.user&&0===t.user.level?[r("v-btn",{attrs:{icon:"",to:t.$route.path+"/"+e.id+"?&action=write"}},[r("v-icon",[t._v("mdi-pencil")])],1),r("v-btn",{attrs:{icon:""},on:{click:function(r){return t.remove(e)}}},[r("v-icon",[t._v("mdi-delete")])],1)]:t._e()],2),r("v-divider"),r("v-card-text",[r("v-alert",{staticClass:"white-space",attrs:{border:"left",type:"info",outlined:"",color:t.$vuetify.theme.dark?"primary":"success"}},[t._v(t._s(e.description))])],1),r("v-list-item",[r("v-list-item-content",[r("v-list-item-title",[t._v(" 게시물수 ")]),r("v-list-item-subtitle",{staticClass:"font-italic"},[t._v(" "+t._s(e.count)+" ")])],1)],1),r("v-divider"),r("v-list-item",{attrs:{to:t.$route.path+"/"+e.id}},[r("v-list-item-content",[t._v(" 전체 ")]),r("v-list-item-action",[r("v-btn",{attrs:{icon:""}},[r("v-icon",[t._v("mdi-menu-right")])],1)],1)],1),r("v-divider"),t._l(e.categories,(function(i,o){return[r("v-list-item",{key:i,attrs:{to:t.$route.path+"/"+e.id+"?category="+i}},[r("v-list-item-content",[t._v(" "+t._s(i)+" ")]),r("v-list-item-action",[r("v-btn",{attrs:{icon:""}},[r("v-icon",[t._v("mdi-menu-right")])],1)],1)],1),r("v-divider",{key:o})]}))],2)],1)})),t.lastDoc?r("v-col",{attrs:{cols:"12",sm:"6",md:"4",lg:"3",xl:"2"}},[r("v-container",{attrs:{fluid:"","fill-height":""}},[r("v-btn",{directives:[{name:"intersect",rawName:"v-intersect",value:t.onIntersect,expression:"onIntersect"}],attrs:{text:"",color:"primary",block:"",loading:t.loading},on:{click:t.more}},[r("v-icon",[t._v("mdi-dots-horizontal")]),t._v("더보기 ")],1)],1)],1):t._e()],2)],1)],1):r("v-skeleton-loader",{attrs:{type:"card"}})],1)],1)},n=[],a=(r("a4d3"),r("e01a"),r("7db0"),r("c740"),r("4160"),r("a434"),r("a9e3"),r("159b"),r("96cf"),r("1da1")),c=r("2ef0"),l=r("9817"),d=5,u={data:function(){return{unsubscribe:null,items:[],ref:null,lastDoc:null,order:"createdAt",sort:"desc",boardId:"",loading:!1,newCheck:l["a"],BgColor:"#FEFCF5 !important"}},computed:{user:function(){return this.$store.state.user}},created:function(){this.subscribe()},destroyed:function(){this.unsubscribe&&this.unsubscribe()},methods:{snapshotToItems:function(t){var e=this;this.lastDoc=Object(c["last"])(t.docs),t.docs.forEach((function(t){var r=e.items.find((function(e){return t.id===e.id})),i=t.data();r?(r.category=i.category,r.title=i.title,r.count=i.count,r.description=i.description,r.categories=i.categories,r.tags=i.tags,r.updatedAt=i.updatedAt.toDate()):(i.id=t.id,i.createdAt=i.createdAt.toDate(),i.updatedAt=i.updatedAt.toDate(),e.items.push(i))})),this.items.sort((function(t,e){return Number(e.createdAt.getTime())-Number(t.createdAt.getTime())}))},subscribe:function(){var t=this;this.ref=this.$firebase.firestore().collection("boards").orderBy(this.order,this.sort).limit(d),this.unsubscribe=this.ref.onSnapshot((function(e){e.empty?t.items=[]:t.snapshotToItems(e)}))},more:function(){var t=this;return Object(a["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.lastDoc){e.next=2;break}throw Error("더이상 데이터가 없습니다");case 2:if(!t.loading){e.next=4;break}return e.abrupt("return");case 4:return t.loading=!0,e.prev=5,e.next=8,t.ref.startAfter(t.lastDoc).get();case 8:r=e.sent,t.snapshotToItems(r);case 10:return e.prev=10,t.loading=!1,e.finish(10);case 13:case"end":return e.stop()}}),e,null,[[5,,10,13]])})))()},onIntersect:function(t,e,r){r&&this.more()},remove:function(t){var e=this;return Object(a["a"])(regeneratorRuntime.mark((function r(){var i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.next=2,e.$firebase.firestore().collection("boards").doc(t.id).delete();case 2:i=e.items.findIndex((function(e){return e.id===t.id})),e.items.splice(i,1);case 4:case"end":return r.stop()}}),r)})))()},listBg:function(){return this.$vuetify.theme.dark?"listBgDark":"listBgLight"}}},h=u,v=(r("24c7"),r("2877")),p=r("6544"),f=r.n(p),m=r("0798"),b=r("8336"),g=r("b0af"),_=r("99d9"),y=r("cc20"),x=r("62ad"),C=r("a523"),$=r("ce7e"),I=r("132d"),k=r("da13"),w=r("1800"),B=r("5d23"),V=r("0fd9"),A=r("8dd9"),S=r("3129"),T=r("2fa4"),D=r("e0c7"),E=r("8654"),O=r("71d9"),j=r("2a7f"),L=r("269a"),R=r.n(L),F=r("90a2"),N=Object(v["a"])(h,s,n,!1,null,"b2f65096",null),J=N.exports;f()(N,{VAlert:m["a"],VBtn:b["a"],VCard:g["a"],VCardActions:_["a"],VCardText:_["c"],VChip:y["a"],VCol:x["a"],VContainer:C["a"],VDivider:$["a"],VIcon:I["a"],VListItem:k["a"],VListItemAction:w["a"],VListItemContent:B["a"],VListItemSubtitle:B["b"],VListItemTitle:B["c"],VRow:V["a"],VSheet:A["a"],VSkeletonLoader:S["a"],VSpacer:T["a"],VSubheader:D["a"],VTextField:E["a"],VToolbar:O["a"],VToolbarTitle:j["a"]}),R()(N,{Intersect:F["a"]});var W={components:{boardIndex:J},computed:{category:function(){return this.$route.query.category}}},q=W,z=Object(v["a"])(q,i,o,!1,null,null,null);e["default"]=z.exports},c213:function(t,e,r){}}]);
//# sourceMappingURL=chunk-95c0b86a.19b26c95.js.map